{
    "manifest_version": 3,
    "name": "PASTEC Plugin",
    "description": "A simple plugin to download and annotate remote monitoring EGMs",
    "version": "1.0.4",
    "permissions": [
        "activeTab",
        "storage",
        "tabs",
        "webRequest",
        "declarativeNetRequest",
        "declarativeNetRequestFeedback",
        "cookies"
      ],
    "host_permissions": [
      "https://pastec.ihu-liryc.fr/*",
      "https://world.medtroniccarelink.net/*",
      "https://api-nl-prod.medtroniccarelink.net/*"
    ],
    "declarative_net_request": {
      "rule_resources": [{
        "id": "blockDocs2",
        "enabled": true,
        "path": "rules_1.json"
      }]
    },
    "background": {
      "service_worker": "background.js",
      "type": "module"
    },
  "content_scripts": [
      {
        "matches": ["https://www.biotronik-homemonitoring.com/hmsc_guiWeb/patient/monitoring/DisplayPatientContext.jsf*"],
        "js": ["biotronik_scraping.js", "content.js"],
        "css": ["css/overlay-container.css"],
        "run_at": "document_start"
      },
      {
        "matches": ["https://www.latitudenxt.bostonscientific-international.com/clinic/devicepage/events*"],
        "js": ["content.js", "boston_scraping.js"],
        "css": ["css/overlay-container.css"],
        "run_at": "document_start"
      },
      {
        "matches": ["https://world.medtroniccarelink.net/*"],
        "js": ["content.js", "medtronic_scraping.js"],
        "css": ["css/pdf-viewer.css"],
        "run_at": "document_idle",
        "all_frames": true
      }
  ],
  "web_accessible_resources": [
    {
      "resources": ["pdf.worker.js", "html/overlay-container.html", "html/pdf-viewer.html", "html/popup.js", "diagnosis-maps.json", "fonts/*"],
      "matches": ["<all_urls>"]
    }
  ],
  "action": {
      "default_popup": "html/popup.html"
  },
  "content_security_policy": {
    "extension_pages": "script-src 'self'; object-src 'self'; font-src 'self' https://fonts.gstatic.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;"
  },
  "options_page": "html/options.html",
  "icons": {
    "16": "icons/icon16.png",
    "32": "icons/icon32.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  }
}